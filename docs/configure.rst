Configuration
=============

Settings
--------

* ``TALLY_DATA_DIR``: A directory where tally will store its archive data (will be created if it does not exist)
* ``TALLY_HOST``: The IP address tally should listen on, and the default address for clients to send metrics to (default: 127.0.0.1)
* ``TALLY_PORT``: The port tally should use (default: 8900)
* ``TALLY_FLUSH_TIME``: The time, in seconds, between flushes of received metric data (default: 5)
* ``TALLY_INSTALL_ADMIN``: Whether the Django admin should be included in tally's URLconf. Typically set to True for standalone installations, and False for embedded application installations.

Middleware
----------

Tally includes a simple middleware class, ``tally.middleware.PageTimingMiddleware``, that sends the amount of time each request takes to the metrics server. The key is generated by stripping leading and trailing slashes, transforming remaining slashes to periods, and prepending ``requests.[method]``. So a POST request for ``/myapp/some-page/update/`` is recorded as ``requests.post.myapp.some-page.update``.
